source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
?scale_y_binned
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
?scale_y_continuous
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
?ylim
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
bat.av.hl <-
bat.agg <-
ggplot(dd, aes(dp, ap)) +
geom_line() +
ylim(1, 100) +
labs(title = "Battery life mean", y = "Battery % Mean", x = "Date") +
theme_minimal()
library(tidyverse)
bat.av.hl <-
bat.agg <-
ggplot(dd, aes(dp, ap)) +
geom_line() +
ylim(1, 100) +
labs(title = "Battery life mean", y = "Battery % Mean", x = "Date") +
theme_minimal()
print(bat.av.hl)
view(dd)
view(df)
bat.av.hl <-
ggplot(dd, aes(dp, ap)) +
geom_line() +
geome_line()+
ylim(1, 100) +
labs(title = "Battery life mean", y = "Battery % Mean", x = "Date") +
theme_minimal()
av.hl <-
full_join(dd, df join_by(dt == dp))
av.hl <-
full_join(dd, df, join_by(dt == dp))
av.hl <-
full_join(dd, df, join_by(dp == dt))
view(av.hl)
glimpse(av.hl)
bat.av.hl <-
ggplot(av.hl, aes(dp, ap)) +
geom_line() +
geom_line(aes(y = hl)) +
ylim(1, 100) +
labs(title = "Battery life mean", y = "Battery % Mean", x = "Date") +
theme_minimal() +
theme(legend.position = "top")
print(bat.av.hl)
bat.av.hl <-
ggplot(av.hl, aes(dp, ap, col = "red")) +
geom_line() +
geom_line(aes(y = hl, col = "green")) +
ylim(1, 100) +
labs(title = "Battery life mean", y = "Battery % Mean", x = "Date") +
theme_minimal() +
theme(legend.position = "top")
print(bat.av.hl)
bat.av.hl <-
ggplot(av.hl, aes(dp, ap, col = "Health")) +
geom_line() +
geom_line(aes(y = hl, col = "Avrage Battery Life")) +
ylim(1, 100) +
labs(title = "Battery life mean", y = "Battery % Mean", x = "Date") +
theme_minimal() +
theme(legend.position = "top") +
print(bat.av.hl)
bat.av.hl <-
ggplot(av.hl, aes(dp, ap, col = "Health")) +
geom_line() +
geom_line(aes(y = hl, col = "Avrage Battery Life")) +
ylim(1, 100) +
labs(title = "Battery life mean", y = "Battery % Mean", x = "Date") +
theme_minimal() +
theme(legend.position = "top")
print(bat.av.hl)
bat.av.hl <-
ggplot(av.hl, aes(dp, ap, col = "Avrage Battery Life")) +
geom_line() +
geom_line(aes(y = hl, col = "Health")) +
ylim(1, 100) +
labs(title = "Battery life", y = "Battery %", x = "Date") +
theme_minimal() +
theme(legend.position = "top")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
bat.life <-
ggplot(filter.log, aes(`Log time`, aper, col = "Apparent Percentage")) +
geom_line() +
geom_line(aes(y = tper, col = "True Percentage")) +
geom_point(aes(y = health, col = "Battery Health")) +
labs(y = "Batery Percentage", title = "Battery Percantage") +
ylim(0, 100) +
theme_minimal() +
theme(legend.position = "top")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
date
date()
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
# Battery plot
tit <-
paste0("Battery Percantage: ",
date())
bat.life <-
ggplot(filter.log, aes(`Log time`, aper, col = "Apparent Percentage")) +
geom_line() +
geom_line(aes(y = tper, col = "True Percentage")) +
geom_point(aes(y = health, col = "Battery Health")) +
labs(y = "Batery Percentage",
x = NULL,
title = tit,
colour = NULL) +
ylim(0, 100) +
theme_minimal() +
theme(legend.position = "top")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
View(log)
log |> tail(-1)
log |> tail(1)
log$Health |> tail(1)
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
library(tidyverse)
detach("package:tidyverse", unload = TRUE)
library(tidyselect)
library(tidyr)
library(tidyverse)
install.packages("tidyverse")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
log
library(tidyverse)
select(log$Health, log$`True Percentage`, log$`Apparent Percentage`)
select(log, Health, `True Percentage`, `Apparent Percentage`)
select(log, Health, `True Percentage`, `Apparent Percentage`) cor()
select(log, Health, `True Percentage`, `Apparent Percentage`) |> cor()
select(log, Health, `True Percentage`, `Apparent Percentage`) |> plot(Health ~ `True Percentage`)
select(log, Health, `True Percentage`, `Apparent Percentage`) |> plot(Health, `True Percentage`)
select(log, Health, `True Percentage`, `Apparent Percentage`) |> plot(Health, `True Percentage`)
select(log, Health, `True Percentage`, `Apparent Percentage`) |> plot(Health, log$`True Percentage`)
select(log, Health, `True Percentage`, `Apparent Percentage`) |> plot(Health)
# View(log)
# View(filter.log)
log_test <-select(log, Health, `True Percentage`, `Apparent Percentage`)
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_path()
l
l
# View(log)
# View(filter.log)
log_test <-select(log, Health, `True Percentage`, `Apparent Percentage`) |>
tail(100)
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_path()
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_point()
# View(log)
# View(filter.log)
log_test <-select(log, Health, `True Percentage`, `Apparent Percentage`)
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_point()
library(tune)
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_point() +
coord_obs_pred()
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_area() +
coord_obs_pred()
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_bar() +
coord_obs_pred()
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_point() +
coord_obs_pred()
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_point() +
coord_obs_pred() +
scale_x_log10() + scale_y_log10()
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_point() +
coord_obs_pred() +
scale_x_log() + scale_y_log10()
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_point() +
coord_obs_pred() +
scale_x_log10() + scale_y_log10()
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_point() +
scale_x_log10() + scale_y_log10()
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_point() +
scale_x_log10() + scale_y_log10() + coord_obs_pred()
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_point() +
scale_x_log10() + scale_y_log10()
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_point() +
scale_x_log10(0:100) + scale_y_log10()
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_point() +
scale_x_log10(0:100) + scale_y_log10(0:100)
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_point()
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_point() + coord_map()
ggplot(log_test, aes(x = `True Percentage`,
y =`Apparent Percentage`,
col = Health)) +
geom_point() + coord_radial()
print(bat.av.hl)
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
print(bat.av.hl)
print(bat.life)
bat.av.hl <-
ggplot(av.hl, aes(dp, ap, col = "Avrage Battery Life")) +
geom_smooth(method = NULL)+
geom_point()+
geom_smooth(aes(y = hl, col = "Health"), method = NULL) +
geom_hline(yintercept = 80)+
ylim(1, 100) +
labs(title = "Battery life", y = "Battery %", x = NULL,
colour = "Battery stats") +
theme_minimal() +
theme(legend.position = "top")
print(bat.av.hl)
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
print(bat.av.hl)
bat.av.hl <-
ggplot(av.hl, aes(dp, ap, col = "Avrage Battery Life")) +
geom_smooth(method = "lm")+
geom_point()+
geom_smooth(aes(y = hl, col = "Health"), method = NULL) +
geom_hline(yintercept = 80)+
ylim(1, 100) +
labs(title = "Battery life", y = "Battery %", x = NULL,
colour = "Battery stats") +
theme_minimal() +
theme(legend.position = "top")
print(bat.av.hl)
log |> head(n =1)
log$`Log date` |> head(n =1) |> floor_date()
log$`Log date` |> head(n =1) |> floor_date() |> as.Date()
today()
today() |> floor_date(unit = "year")
today() |> ceiling_date(unit = "year")
start.date <- today() |> floor_date(unit = "year")
end.date <- today() |> ceiling_date(unit = "year") -1
bat.av.hl <-
ggplot(av.hl, aes(dp, ap, col = "Avrage Battery Life")) +
geom_smooth(method = "lm")+
geom_point()+
geom_smooth(aes(y = hl, col = "Health"), method = NULL) +
geom_hline(yintercept = 80)+
ylim(1, 100) +
scale_x_date(start.date, end.date)+
labs(title = "Battery life", y = "Battery %", x = NULL,
colour = "Battery stats") +
theme_minimal() +
theme(legend.position = "top")
print(bat.av.hl)
bat.av.hl <-
ggplot(av.hl, aes(dp, ap, col = "Avrage Battery Life")) +
geom_smooth(method = "lm")+
geom_point()+
geom_smooth(aes(y = hl, col = "Health"), method = NULL) +
geom_hline(yintercept = 80)+
ylim(1, 100) +
scale_x_date(start.date, end.date, date_labels = "%b")+
labs(title = "Battery life", y = "Battery %", x = NULL,
colour = "Battery stats") +
theme_minimal() +
theme(legend.position = "top")
print(bat.av.hl)
start.date <- today() |> floor_date(unit = "year") |> as.Date()
start.date <- today() |> floor_date(unit = "year") |> as.Date()
end.date <- today() |> ceiling_date(unit = "year") |> as.Date() -1
end.date
start.date <- today() |> floor_date(unit = "year") |> as.Date()
end.date <- today() |> ceiling_date(unit = "year") |> as.Date() -1
start.date
bat.av.hl <-
ggplot(av.hl, aes(dp, ap, col = "Avrage Battery Life")) +
geom_smooth(method = "lm")+
geom_point()+
geom_smooth(aes(y = hl, col = "Health"), method = NULL) +
geom_hline(yintercept = 80)+
ylim(1, 100) +
scale_x_date(start.date, end.date, date_labels = "%b")+
labs(title = "Battery life", y = "Battery %", x = NULL,
colour = "Battery stats") +
theme_minimal() +
theme(legend.position = "top")
print(bat.av.hl)
bat.av.hl <-
ggplot(av.hl, aes(dp, ap, col = "Avrage Battery Life")) +
geom_smooth(method = "lm")+
geom_point()+
geom_smooth(aes(y = hl, col = "Health"), method = NULL) +
geom_hline(yintercept = 80)+
ylim(1, 100) +
scale_x(start.date, end.date, date_labels = "%b")+
labs(title = "Battery life", y = "Battery %", x = NULL,
colour = "Battery stats") +
theme_minimal() +
theme(legend.position = "top")
bat.av.hl <-
ggplot(av.hl, aes(dp, ap, col = "Avrage Battery Life")) +
geom_smooth(method = "lm")+
geom_point()+
geom_smooth(aes(y = hl, col = "Health"), method = NULL) +
geom_hline(yintercept = 80)+
ylim(1, 100) +
xlim(start.date, end.date, date_labels = "%b")+
labs(title = "Battery life", y = "Battery %", x = NULL,
colour = "Battery stats") +
theme_minimal() +
theme(legend.position = "top")
bat.av.hl <-
ggplot(av.hl, aes(dp, ap, col = "Avrage Battery Life")) +
geom_smooth(method = "lm")+
geom_point()+
geom_smooth(aes(y = hl, col = "Health"), method = NULL) +
geom_hline(yintercept = 80)+
ylim(1, 100) +
scale_x_date(start.date, end.date, date_labels = "%b")+
labs(title = "Battery life", y = "Battery %", x = NULL,
colour = "Battery stats") +
theme_minimal() +
theme(legend.position = "top")
## Logs
pdf(
file = "/home/kd/opt/bat_helth_log/battery_helth.pdf",
width = 16,
height = 9,
paper = "a4r"
)
print(bat.life)
bat.av.hl <-
ggplot(av.hl, aes(dp, ap, col = "Avrage Battery Life")) +
geom_smooth(method = "lm")+
geom_point()+
geom_smooth(aes(y = hl, col = "Health"), method = NULL) +
geom_hline(yintercept = 80)+
ylim(1, 100) +
scale_x_date(end.date, start.date, date_labels = "%b")+
labs(title = "Battery life", y = "Battery %", x = NULL,
colour = "Battery stats") +
theme_minimal() +
theme(legend.position = "top")
print(bat.av.hl)
print(bat.av.hl)
print(bat.av.hl)
bat.av.hl <-
ggplot(av.hl, aes(dp, ap, col = "Avrage Battery Life")) +
geom_smooth(method = "lm")+
geom_point()+
geom_smooth(aes(y = hl, col = "Health"), method = NULL) +
geom_hline(yintercept = 80)+
ylim(1, 100) +
scale_x_date(start.date, end.date, date_labels = "%b")+
labs(title = "Battery life", y = "Battery %", x = NULL,
colour = "Battery stats") +
theme_minimal() +
theme(legend.position = "top")
print(bat.av.hl)
bat.av.hl <-
ggplot(av.hl, aes(dp, ap, col = "Avrage Battery Life")) +
geom_smooth(method = "lm")+
geom_point()+
geom_smooth(aes(y = hl, col = "Health"), method = NULL) +
geom_hline(yintercept = 80)+
ylim(1, 100) +
scale_x_date(start.date, end.date)+
labs(title = "Battery life", y = "Battery %", x = NULL,
colour = "Battery stats") +
theme_minimal() +
theme(legend.position = "top")
print(bat.av.hl)
bat.av.hl
bat.av.hl <-
ggplot(av.hl, aes(dp, ap, col = "Avrage Battery Life")) +
geom_smooth(method = "lm")+
geom_point()+
geom_smooth(aes(y = hl, col = "Health"), method = NULL) +
geom_hline(yintercept = 80)+
ylim(1, 100) +
labs(title = "Battery life", y = "Battery %", x = NULL,
colour = "Battery stats") +
theme_minimal() +
theme(legend.position = "top")
bat.av.hl
## Logs
pdf(
file = "/home/kd/opt/bat_helth_log/battery_helth.pdf",
width = 16,
height = 9,
paper = "a4r"
)
print(bat.life)
print(bat.av.hl)
# print(bat.health)
# print(bat.agg)
dev.off()
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
library(tidyverse)
library(tune)
View(av.hl)
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
source("~/opt/bat_helth_log/battery_analysis/Logtest.R")
